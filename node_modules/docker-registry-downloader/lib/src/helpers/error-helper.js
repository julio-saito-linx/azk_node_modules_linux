"use strict";
var clc = require('cli-color');
var repeating = require('repeating');
var indentString = require('indent-string');
var _ = require('lodash');
module.exports = function(title, err) {
  if (!err && !title) {
    return;
  }
  var line = '';
  var error = [];
  error.push('');
  if (_.isString(title)) {
    line = '  ' + repeating('-', title.length - 2);
    error.push(line);
    error.push(' ' + clc.red.bold(title));
  } else {
    err = title;
  }
  if (!err.message) {
    return;
  }
  line = '  ' + repeating('-', err.message.length - 2);
  error.push(line);
  error.push(' ' + clc.red.bold(err.message));
  error.push(line);
  error.push('');
  var identedStack = indentString(err.stack, ' ', 2);
  error.push(clc.red(identedStack));
  error.push('');
  console.log(error.join('\n'));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbHBlcnMvZXJyb3ItaGVscGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsQUFBSSxFQUFBLENBQUEsR0FBRSxFQUFhLENBQUEsT0FBTSxBQUFDLENBQUMsV0FBVSxDQUFDLENBQUM7QUFDdkMsQUFBSSxFQUFBLENBQUEsU0FBUSxFQUFPLENBQUEsT0FBTSxBQUFDLENBQUMsV0FBVSxDQUFDLENBQUM7QUFDdkMsQUFBSSxFQUFBLENBQUEsWUFBVyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsZUFBYyxDQUFDLENBQUM7QUFDM0MsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFlLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFFcEMsS0FBSyxRQUFRLEVBQUksVUFBUyxLQUFJLENBQUcsQ0FBQSxHQUFFLENBQUc7QUFDcEMsS0FBSSxDQUFDLEdBQUUsQ0FBQSxFQUFLLEVBQUMsS0FBSSxDQUFHO0FBQ2xCLFVBQU07RUFDUjtBQUFBLEFBQ0ksSUFBQSxDQUFBLElBQUcsRUFBSSxHQUFDLENBQUM7QUFDYixBQUFJLElBQUEsQ0FBQSxLQUFJLEVBQUksR0FBQyxDQUFDO0FBQ2QsTUFBSSxLQUFLLEFBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztBQUVkLEtBQUksQ0FBQSxTQUFTLEFBQUMsQ0FBQyxLQUFJLENBQUMsQ0FBRztBQUNyQixPQUFHLEVBQUksQ0FBQSxJQUFHLEVBQUksQ0FBQSxTQUFRLEFBQUMsQ0FBQyxHQUFFLENBQUcsQ0FBQSxLQUFJLE9BQU8sRUFBSSxFQUFBLENBQUMsQ0FBQztBQUM5QyxRQUFJLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ2hCLFFBQUksS0FBSyxBQUFDLENBQUMsR0FBRSxFQUFLLENBQUEsR0FBRSxJQUFJLEtBQUssQUFBQyxDQUFDLEtBQUksQ0FBQyxDQUFDLENBQUM7RUFDeEMsS0FBTztBQUNMLE1BQUUsRUFBSSxNQUFJLENBQUM7RUFDYjtBQUFBLEFBRUEsS0FBSSxDQUFDLEdBQUUsUUFBUSxDQUFHO0FBQ2hCLFVBQU07RUFDUjtBQUFBLEFBRUEsS0FBRyxFQUFJLENBQUEsSUFBRyxFQUFJLENBQUEsU0FBUSxBQUFDLENBQUMsR0FBRSxDQUFHLENBQUEsR0FBRSxRQUFRLE9BQU8sRUFBSSxFQUFBLENBQUMsQ0FBQztBQUNwRCxNQUFJLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ2hCLE1BQUksS0FBSyxBQUFDLENBQUMsR0FBRSxFQUFJLENBQUEsR0FBRSxJQUFJLEtBQUssQUFBQyxDQUFDLEdBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUMzQyxNQUFJLEtBQUssQUFBQyxDQUFDLElBQUcsQ0FBQyxDQUFDO0FBQ2hCLE1BQUksS0FBSyxBQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7QUFFZCxBQUFJLElBQUEsQ0FBQSxZQUFXLEVBQUksQ0FBQSxZQUFXLEFBQUMsQ0FBQyxHQUFFLE1BQU0sQ0FBRyxJQUFFLENBQUcsRUFBQSxDQUFDLENBQUM7QUFDbEQsTUFBSSxLQUFLLEFBQUMsQ0FBQyxHQUFFLElBQUksQUFBQyxDQUFDLFlBQVcsQ0FBQyxDQUFDLENBQUM7QUFFakMsTUFBSSxLQUFLLEFBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztBQUNkLFFBQU0sSUFBSSxBQUFDLENBQUMsS0FBSSxLQUFLLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBQyxDQUFDO0FBQy9CLENBQUM7QUFDRCIsImZpbGUiOiJoZWxwZXJzL2Vycm9yLWhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXNDb250ZW50IjpbInZhciBjbGMgICAgICAgICAgPSByZXF1aXJlKCdjbGktY29sb3InKTtcbnZhciByZXBlYXRpbmcgICAgPSByZXF1aXJlKCdyZXBlYXRpbmcnKTtcbnZhciBpbmRlbnRTdHJpbmcgPSByZXF1aXJlKCdpbmRlbnQtc3RyaW5nJyk7XG52YXIgXyAgICAgICAgICAgID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGl0bGUsIGVycikge1xuICBpZiAoIWVyciAmJiAhdGl0bGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGxpbmUgPSAnJztcbiAgdmFyIGVycm9yID0gW107XG4gIGVycm9yLnB1c2goJycpO1xuXG4gIGlmIChfLmlzU3RyaW5nKHRpdGxlKSkge1xuICAgIGxpbmUgPSAnICAnICsgcmVwZWF0aW5nKCctJywgdGl0bGUubGVuZ3RoIC0gMik7XG4gICAgZXJyb3IucHVzaChsaW5lKTtcbiAgICBlcnJvci5wdXNoKCcgJyAgKyBjbGMucmVkLmJvbGQodGl0bGUpKTtcbiAgfSBlbHNlIHtcbiAgICBlcnIgPSB0aXRsZTtcbiAgfVxuXG4gIGlmICghZXJyLm1lc3NhZ2UpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsaW5lID0gJyAgJyArIHJlcGVhdGluZygnLScsIGVyci5tZXNzYWdlLmxlbmd0aCAtIDIpO1xuICBlcnJvci5wdXNoKGxpbmUpO1xuICBlcnJvci5wdXNoKCcgJyArIGNsYy5yZWQuYm9sZChlcnIubWVzc2FnZSkpO1xuICBlcnJvci5wdXNoKGxpbmUpO1xuICBlcnJvci5wdXNoKCcnKTtcblxuICB2YXIgaWRlbnRlZFN0YWNrID0gaW5kZW50U3RyaW5nKGVyci5zdGFjaywgJyAnLCAyKTtcbiAgZXJyb3IucHVzaChjbGMucmVkKGlkZW50ZWRTdGFjaykpO1xuXG4gIGVycm9yLnB1c2goJycpO1xuICBjb25zb2xlLmxvZyhlcnJvci5qb2luKCdcXG4nKSk7XG59O1xuIl19